(this["webpackJsonpescape-velocity"]=this["webpackJsonpescape-velocity"]||[]).push([[0],{21:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r,i,s,c=n(0),o=n.n(c),a=n(6),l=n.n(a),d=(n(29),n(21),n(10)),h=n(15),j=n(16),u=j.a.button(r||(r=Object(h.a)(["\n  width: 50px;\n  height: 50px;\n  font-size: ",";\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  border: 1px solid white;\n  border-collapse: collapse;\n  border-radius: 5px;\n"])),(function(e){return e.characters.length,"8px"}),(function(e){return 0===e.characters.length?e.tiletype.color:"repeating-linear-gradient(45deg, white, white 10px, "+e.tiletype.color+" 10px,  "+e.tiletype.color+" 20px)"}),(function(e){return 0===e.characters.length?"black":"white"}),(function(e){return 0===e.characters.length?"normal":"bold"})),b=n(1),x=function(e){for(var t=e.tiles,n=e.onClick,r=[],i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++){var c=n.bind(undefined,s,i);r.push(Object(b.jsx)(u,{tiletype:t[s][i].type,characters:t[s][i].characters,onClick:c,children:0!==t[s][i].characters.length?"X":"("+s+","+i+")"},"Cell"+s+":"+i))}r.push(Object(b.jsx)("br",{},"LineBreak"+i))}return Object(b.jsx)(b.Fragment,{children:r})},p=5,v={x:5,y:5},O=100,f=4,y=[0,60,90,100,100,100,100,100,100,100,100],g=5,m=function(e){var t=e.phase,n=e.characters;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Status bar"}),Object(b.jsx)("br",{}),"Turn: ",t.turn," (00:00:0",t.untilNextTurn,")",Object(b.jsx)("br",{}),"Action Points: ",n[0].ap," / ",f,Object(b.jsx)("br",{}),"Health Points: ",n[0].hp," / ",O,Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})},w=function(e){var t=e.onClick;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Actions"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"action",type:"button",value:"Search",onClick:t})]})},A=n(3),k=j.a.input(i||(i=Object(h.a)(["\n  width: 90%;\n  height: 40px;\n  margin: 3px 3px 3px 3px;\n  background-color: rgb(148, 148, 184);\n  border-radius: 5px;\n  border: 2px solid rgb(209, 209, 224);\n  color: white;\n"]))),C=n(8),N=function(e){var t=e.characters,n=e.onClick,r=e.onDragEnd;return Object(b.jsx)(C.a,{onDragEnd:r,children:Object(b.jsx)(C.c,{droppableId:"items-inventory",children:function(e){return Object(b.jsxs)("ul",Object(A.a)(Object(A.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t[0].inventory.slots.map((function(e,t){return Object(b.jsx)(C.b,{draggableId:"item-inventory-"+t,index:t,children:function(r){return Object(b.jsx)("li",Object(A.a)(Object(A.a)(Object(A.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:Object(b.jsx)(k,{type:"submit",value:e.name,onClick:function(){return n(t)}})}))}},t)})),e.placeholder]}))}})})},P=function(e){var t=e.characters,n=e.onClick,r=e.onDragEnd;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Inventory"}),Object(b.jsx)("br",{}),Object(b.jsx)(N,{characters:t,onClick:n,onDragEnd:r})]})},T=function(e){var t=e.characters,n=e.tiles,r=e.onClick,i=e.onDragEnd,s=t[0].coords.x,c=t[0].coords.y;return Object(b.jsx)(C.a,{onDragEnd:i,children:Object(b.jsx)(C.c,{droppableId:"items-cell",children:function(e){return Object(b.jsx)("ul",Object(A.a)(Object(A.a)({},e.droppableProps),{},{ref:e.innerRef,children:n[s][c].items.map((function(e,t){return Object(b.jsx)(C.b,{draggableId:"item-cell-"+t,index:t,children:function(e){return Object(b.jsx)("li",Object(A.a)(Object(A.a)(Object(A.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(b.jsx)(k,{type:"submit",value:n[s][c].items[t].name,onClick:function(){return r(t)}})}))}},t)}))}))}})})},D=function(e){var t=e.characters,n=e.tiles,r=e.onClick,i=e.onDragEnd,s=t[0].coords.x,c=t[0].coords.y;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[n[s][c].type.name," (",s,", ",c,")"]}),Object(b.jsx)("br",{}),Object(b.jsx)(T,{characters:t,tiles:n,onClick:r,onDragEnd:i})]})},I=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Craft"}),Object(b.jsx)("br",{})]})},S=n(4),E=function e(t,n,r){Object(S.a)(this,e),this.id=void 0,this.name=void 0,this.frequency=void 0,this.id=t,this.name=n,this.frequency=r},R=[new E(0," ",-1),new E(1,"Log",0),new E(2,"Plank",1),new E(3,"Iron Ore",2),new E(4,"Iron Bar",1),new E(5,"Iron Sheet",2),new E(6,"Broken Circuit Board",1),new E(7,"Electronic Component",2),new E(8,"Transistor Radio",999)],F=n(19),M=function(e){var t=e.alertText,n=e.isVisible;return Object(b.jsxs)(F.a,{show:n,variant:t.variant,children:[Object(b.jsx)(F.a.Heading,{children:t.header}),t.body]},"mainAlert")},B=function e(t,n,r){Object(S.a)(this,e),this.header=void 0,this.body=void 0,this.variant=void 0,this.header=t,this.body=n,this.variant=r};!function(e){e.WARNING="warning",e.PRIMARY="primary"}(s||(s={}));var _={START:new B("Your starship was heavily...","damaged during an orbital fight. Pilots managed to perform an emergency landing on the planet below. The vessel is irreversibly damaged. Fellow crew is dead. Endless jungle covering the entire surface...",s.PRIMARY),OUT_OF_AP:new B("Out of Action Points","You are too tired to perform this action and need to chill for a  while. AP recover with time. Action Points recover gradually with time.",s.WARNING)},z=function e(t,n,r){Object(S.a)(this,e),this.id=void 0,this.name=void 0,this.color=void 0,this.id=t,this.name=n,this.color=r},H=[new z(0,"Forest","#32a871"),new z(1,"Starship","#929da6"),new z(2,"Impact Cleaning","#76a693")],L=function e(t,n,r){Object(S.a)(this,e),this.type=void 0,this.coords=void 0,this.characters=void 0,this.items=void 0,this.type=t,this.coords={x:n,y:r},this.characters=[],this.items=[]},Y=function e(){Object(S.a)(this,e),this.turn=void 0,this.untilNextTurn=void 0,this.isNight=void 0,this.alertActive=void 0,this.untilAlertDismissed=void 0,this.turn=1,this.untilNextTurn=p,this.isNight=!1,this.untilAlertDismissed=0,this.alertActive=_.START,this.untilAlertDismissed=1200},q=function e(t){Object(S.a)(this,e),this.size=void 0,this.slots=void 0,this.size=t,this.slots=new Array(t);for(var n=0;n<this.slots.length;n++)this.slots[n]=R[0]},U=function e(t,n,r,i){Object(S.a)(this,e),this.hp=void 0,this.ap=void 0,this.coords=void 0,this.inventory=void 0,this.hp=t,this.ap=n,this.coords={x:r,y:i},this.inventory=new q(6)},G=function(e){for(var t=[],n=0;n<R.length;n++)R[n].frequency===e&&t.push(R[n]);return t},J=function(){var e=function(){for(var e=new Array(11),t=0;t<e.length;t++){e[t]=new Array(11);for(var n=0;n<e[t].length;n++)e[t][n]=new L(H[0],t,n)}e[5][5].type=H[1],e[4][4].type=H[2],e[5][4].type=H[2],e[6][4].type=H[2],e[4][5].type=H[2],e[6][5].type=H[2],e[4][6].type=H[2],e[5][6].type=H[2],e[6][6].type=H[2],e[5][5].characters.push(new U(O,f,v.x,v.y));var r=[];return r.push(new U(O,f,v.x,v.y)),{characters:r,phase:new Y,tiles:e}}(),t=Object(c.useState)(e.characters),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(e.phase),o=Object(d.a)(s,2),a=o[0],l=o[1],h=Object(c.useState)(e.tiles),j=Object(d.a)(h,2),u=j[0],A=j[1],k=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}(),C=function(){var e=r,t=a;a.untilNextTurn>1?t.untilNextTurn-=1:(t.turn+=1,t.untilNextTurn=p,e[0].ap<4&&(e[0].ap+=1)),t.untilAlertDismissed>0&&(t.untilAlertDismissed-=1),i(e),l(t),k()},N=function(e){var t=a;t.alertActive=e,t.untilAlertDismissed=g,l(t),k()},T=function(e,t){return Math.max(Math.abs(u[e][t].coords.x-r[0].coords.x),Math.abs(u[e][t].coords.y-r[0].coords.y))};return Object(c.useEffect)((function(){setInterval(C,1e3)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"window",children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{rowSpan:3,children:Object(b.jsx)(x,{tiles:u,onClick:function(e,t){if(r[0].ap>0){if(1===T(e,t)){var n=r;n[0].ap-=1;var s=r[0].coords.x,c=r[0].coords.y;n[0].coords={x:e,y:t};var o=u;o[s][c].characters=[],o[e][t].characters.push(n[0]),i(n),A(o)}}else N(_.OUT_OF_AP);k()}})}),Object(b.jsx)("td",{colSpan:1,className:"window-aux",children:Object(b.jsx)(m,{phase:a,characters:r})}),Object(b.jsx)("td",{colSpan:2,className:"window-aux-alert",children:Object(b.jsx)(M,{alertText:a.alertActive,isVisible:a.untilAlertDismissed>0})})]}),Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:3,className:"window-aux",children:Object(b.jsx)(w,{onClick:function(){if(r[0].ap>0){var e=r;e[0].ap-=1;for(var t=-1,n=0;n<r[0].inventory.size;n++)if(r[0].inventory.slots[n]===R[0]){t=n;break}var s=Math.floor(Math.random()*R.length);if(-1!==t)e[0].inventory.slots[t]=function(){for(var e=100*Math.random(),t=0;t<y.length-1;t++)if(e>y[t]&&e<y[t+1]){var n=G(t);return n[Math.floor(Math.random()*n.length)]}return R[0]}(),i(e);else{var c=u,o=r[0].coords.x,a=r[0].coords.y;c[o][a].items.push(R[s]),i(e),A(c)}}else N(_.OUT_OF_AP);k()}})})}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(P,{characters:r,onClick:function(e){if(r[0].inventory.slots[e].id!==R[0].id){var t=r[0].coords.x,n=r[0].coords.y,s=r,c=u;c[t][n].items.push(r[0].inventory.slots[e]),s[0].inventory.slots[e]=R[0],i(s),A(c)}k()},onDragEnd:function(e){if(e.destination){var t=Array.from(r[0].inventory.slots),n=t.splice(e.source.index,1),s=Object(d.a)(n,1)[0];t.splice(e.destination.index,0,s);var c=r;c[0].inventory.slots=t,i(c),k()}}})}),Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(D,{tiles:u,characters:r,onClick:function(e){for(var t=-1,n=0;n<r[0].inventory.size;n++)if(r[0].inventory.slots[n]===R[0]){t=n;break}if(-1!==t){var s=r[0].coords.x,c=r[0].coords.y,o=r,a=u;o[0].inventory.slots[t]=u[s][c].items[e],a[s][c].items.splice(e,1),i(o),A(a)}k()},onDragEnd:function(e){if(e.destination){var t=r[0].coords.x,n=r[0].coords.y,i=Array.from(u[t][n].items),s=i.splice(e.source.index,1),c=Object(d.a)(s,1)[0];i.splice(e.destination.index,0,c);var o=u;u[t][n].items=i,A(o),k()}}})}),Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(I,{})})]})]})})})})},V=(n(35),function(){return Object(b.jsx)(J,{})}),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),s(e),c(e)}))};l.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root")),W()}},[[36,1,2]]]);
//# sourceMappingURL=main.6cdc3c32.chunk.js.map