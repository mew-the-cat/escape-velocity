(this["webpackJsonpescape-velocity"]=this["webpackJsonpescape-velocity"]||[]).push([[0],{24:function(e,t,i){},32:function(e,t,i){},39:function(e,t,i){"use strict";i.r(t);var r,n,s,c=i(0),a=i.n(c),o=i(7),l=i.n(o),d=(i(32),i(24),i(19)),u=i(4),h=i(11),b=i(12),j=b.a.button(r||(r=Object(h.a)(["\n  width: 9%;\n  height: 9%;\n\n  font-size: ",";\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  border: 1px solid white;\n  border-collapse: collapse;\n  border-radius: 5px;\n"])),(function(e){return e.characters.length,"8px"}),(function(e){return 0===e.characters.length?e.tiletype.color:"repeating-linear-gradient(45deg, white, white 10px, "+e.tiletype.color+" 10px,  "+e.tiletype.color+" 20px)"}),(function(e){return 0===e.characters.length?"black":"white"}),(function(e){return 0===e.characters.length?"normal":"bold"})),p=i(1),m=function(e){for(var t=e.tiles,i=e.onClick,r=[],n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++){var c=i.bind(undefined,s,n);r.push(Object(p.jsx)(j,{tiletype:t[s][n].type,characters:t[s][n].characters,onClick:c,children:0!==t[s][n].characters.length?"X":"("+s+","+n+")"},"Cell"+s+":"+n))}r.push(Object(p.jsx)("br",{},"LineBreak"+n))}return Object(p.jsx)("span",{className:"map",children:r})},O=3,f={x:5,y:5},x=100,v=4,g=5,y=function(e){var t=e.phase,i=e.characters;return Object(p.jsxs)("span",{className:"statusbar",children:[Object(p.jsx)("b",{children:"Status bar"}),Object(p.jsx)("br",{}),"Turn: ",t.turn," (00:00:0",t.untilNextTurn,")",Object(p.jsx)("br",{}),"Action Points: ",i[0].ap," / ",v,Object(p.jsx)("br",{}),"Health Points: ",i[0].hp," / ",x,Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})},C=b.a.input(n||(n=Object(h.a)(["\n  width: 150px;\n  height: 40px;\n  margin: 3px 3px 3px 3px;\n  background-color: rgb(102, 217, 255);\n  border-radius: 5px;\n  border: 2px solid rgb(204, 242, 255);\n  color: white;\n  font-size: 14px;\n"]))),I=function(e){var t=e.onClickSearch,i=e.onClickCraft;return Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Actions"}),Object(p.jsx)("br",{}),Object(p.jsx)(C,{type:"button",value:"Search",onClick:t}),Object(p.jsx)(C,{type:"button",value:"Craft",onClick:i})]})},A=i(5),M=function e(t,i,r){Object(A.a)(this,e),this.id=void 0,this.name=void 0,this.rarity=void 0,this.id=t,this.name=i,this.rarity=r};!function(e){e.UBIQUITOUS="UBIQUITOUS",e.COMMON="COMMON",e.UNCOMMON="UNCOMMON",e.RARE="RARE",e.SCARCE="SCARCE",e.UNIQUE="UNIQUE"}(s||(s={}));var N,E=[new M(0,"Log",s.UBIQUITOUS),new M(1,"Plank",s.COMMON),new M(2,"Iron Ore",s.COMMON),new M(3,"Iron Sheet",s.UNCOMMON),new M(4,"Broken Circuit Board",s.RARE),new M(5,"Electronic Component",s.SCARCE),new M(6,"Transistor Radio",s.UNIQUE)],w=i(22),T=function(e){var t=e.alertText,i=e.isVisible;return Object(p.jsx)("span",{className:"alertbar",children:Object(p.jsxs)(w.a,{show:i,variant:t.variant,children:[Object(p.jsx)(w.a.Heading,{children:t.header}),t.body]},"mainAlert")})},U=function e(t,i,r){Object(A.a)(this,e),this.header=void 0,this.body=void 0,this.variant=void 0,this.header=t,this.body=i,this.variant=r};!function(e){e.WARNING="warning",e.PRIMARY="primary",e.SUCCESS="success"}(N||(N={}));var R,S,k={START:new U("Your starship was heavily damaged during an orbital fight...","Pilots managed to perform an emergency landing on the planet below. The vessel is irreversibly damaged. Fellow crew is dead. Endless jungle covering the entire surface.",N.PRIMARY),OUT_OF_AP:new U("Out of Action Points","You are too tired to perform this action and need to chill for a  while. AP recover with time. Action Points recover gradually with time.",N.WARNING),CRAFT_NO_COMBINATION:new U("Engeneering Attempt Failed","You tried to tinker around with these items with no palpable success. It looks like you can't combine them into anything more or less interesting.",N.WARNING),CRAFT_NO_ITEMS:new U("Not Enough Items","Load at least 2 items in the Engineering Bay in order to process them.",N.WARNING),CRAFT_SUCCESS:new U("Engeneering Attempt Successful","You managed to process materials into a structurally more complex item.",N.SUCCESS)},_=[new function e(t,i){Object(A.a)(this,e),this.id=void 0,this.name=void 0,this.items=void 0,this.id=t,this.name=i,this.items=[]}(0,"Engineering Bay")],P=function e(t,i,r){Object(A.a)(this,e),this.id=void 0,this.name=void 0,this.color=void 0,this.id=t,this.name=i,this.color=r},D=[new P(0,"Forest","#32a871"),new P(1,"Starship","#929da6"),new P(2,"Impact Cleaning","#76a693")],B=function e(t,i,r){Object(A.a)(this,e),this.type=void 0,this.coords=void 0,this.characters=void 0,this.items=void 0,this.type=t,this.coords={x:i,y:r},this.characters=[],this.items=[]},F=function e(){Object(A.a)(this,e),this.turn=void 0,this.untilNextTurn=void 0,this.isNight=void 0,this.alertActive=void 0,this.untilAlertDismissed=void 0,this.turn=1,this.untilNextTurn=O,this.isNight=!1,this.untilAlertDismissed=0,this.alertActive=k.START,this.untilAlertDismissed=1200},Q=function e(t,i,r,n,s,c){Object(A.a)(this,e),this.id=void 0,this.hp=void 0,this.ap=void 0,this.coords=void 0,this.items=void 0,this.itemsMax=void 0,this.id=t,this.hp=i,this.ap=r,this.coords={x:n,y:s},this.itemsMax=c,this.items=[]},Y=function(e){for(var t=[],i=0;i<E.length;i++)E[i].rarity===e&&t.push(E[i]);return t},H=function(){var e=100*Math.random();return e<=35?s.UBIQUITOUS:e>35&&e<=65?s.COMMON:e>65&&e<=85?s.UNCOMMON:e>85&&e<=95?s.RARE:s.SCARCE},L=i(3);!function(e){e.ITEM_UBIQUITOUS="rgb(206, 188, 160)",e.ITEM_COMMON="rgb(148, 148, 184)",e.ITEM_UNCOMMON="rgb(151, 184, 250)",e.ITEM_RARE="rgb(255, 181, 54)",e.ITEM_SCARCE="rgb(242, 114, 114)",e.ITEM_UNIQUE="rgb(227, 0, 91)"}(R||(R={}));var G=b.a.input(S||(S=Object(h.a)(["\n  width: 80%;\n  height: 40px;\n  margin: 3px 3px 3px 3px;\n  background-color: ","\n    ","\n    ","\n    ","\n    ","\n    ",";\n  border: none;\n  border-radius: 5px;\n  color: white;\n  text-align: center;\n  font-size: 14px;\n"])),(function(e){return e.rarity===s.UBIQUITOUS&&R.ITEM_UBIQUITOUS}),(function(e){return e.rarity===s.COMMON&&R.ITEM_COMMON}),(function(e){return e.rarity===s.UNCOMMON&&R.ITEM_UNCOMMON}),(function(e){return e.rarity===s.RARE&&R.ITEM_RARE}),(function(e){return e.rarity===s.SCARCE&&R.ITEM_SCARCE}),(function(e){return e.rarity===s.UNIQUE&&R.ITEM_UNIQUE})),W=i(8),z=function(e){var t=e.characters,i=e.onClick;return Object(p.jsx)(W.c,{droppableId:"items-inventory",isDropDisabled:t[0].items.length>=t[0].itemsMax,children:function(e){return Object(p.jsxs)("ul",Object(L.a)(Object(L.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t[0].items.map((function(e,t){return Object(p.jsx)(W.b,{draggableId:"item-inventory-"+t,index:t,children:function(r){return Object(p.jsx)("li",Object(L.a)(Object(L.a)(Object(L.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:Object(p.jsx)(G,{type:"submit",value:e.name,rarity:e.rarity,onClick:function(){return i(t)}})}))}},t)})),e.placeholder]}))}})},J=function(e){var t=e.characters,i=e.onClick,r=e.onDragEnd;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:["Inventory (",t[0].items.length,"/",t[0].itemsMax,")"]}),Object(p.jsx)("br",{}),Object(p.jsx)(z,{characters:t,onClick:i,onDragEnd:r})]})},V=function(e){var t=e.characters,i=e.tiles,r=e.onClick,n=t[0].coords.x,s=t[0].coords.y;return Object(p.jsx)(W.c,{droppableId:"items-cell",children:function(e){return Object(p.jsxs)("ul",Object(L.a)(Object(L.a)({},e.droppableProps),{},{ref:e.innerRef,children:[i[n][s].items.map((function(e,t){return Object(p.jsx)(W.b,{draggableId:"item-cell-"+t,index:t,children:function(e){return Object(p.jsx)("li",Object(L.a)(Object(L.a)(Object(L.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(p.jsx)(G,{type:"submit",value:i[n][s].items[t].name,rarity:i[n][s].items[t].rarity,onClick:function(){return r(t)}})}))}},t)})),e.placeholder]}))}})},X=function(e){var t=e.characters,i=e.tiles,r=e.onClick,n=e.onDragEnd,s=t[0].coords.x,c=t[0].coords.y;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:[i[s][c].type.name," (",s,", ",c,")"]}),Object(p.jsx)("br",{}),Object(p.jsx)(V,{characters:t,tiles:i,onClick:r,onDragEnd:n})]})},q=function(e){var t=e.construction,i=e.onClick;return Object(p.jsx)(W.c,{droppableId:"items-craft",children:function(e){return Object(p.jsxs)("ul",Object(L.a)(Object(L.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t.items.map((function(e,t){return Object(p.jsx)(W.b,{draggableId:"item-craft-"+t,index:t,children:function(r){return Object(p.jsx)("li",Object(L.a)(Object(L.a)(Object(L.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:Object(p.jsx)(G,{type:"submit",value:e.name,rarity:e.rarity,onClick:function(){return i(t)}})}))}},t)})),e.placeholder]}))}})},K=function(e){var t=e.construction,i=e.onClick,r=e.onDragEnd;return Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Engineering Bay"}),Object(p.jsx)("br",{}),Object(p.jsx)(q,{construction:t,onClick:i,onDragEnd:r})]})},Z=function(e){var t=e.characters,i=e.tiles,r=e.construction,n=e.onClickInventory,s=e.onClickCell,a=e.onDragEnd,o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],h=l[1];return Object(c.useEffect)((function(){var e=t[0].coords.x,i=t[0].coords.y;h(5===e&&5===i)}),[t[0].coords.x,t[0].coords.y]),Object(p.jsx)(W.a,{onDragEnd:a,children:Object(p.jsx)("table",{className:"itembar",children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"itemlists",children:[Object(p.jsx)("td",{className:"itemlist",children:Object(p.jsx)(J,{characters:t,onClick:n,onDragEnd:a})}),Object(p.jsx)("td",{className:"itemlist",children:Object(p.jsx)(X,{characters:t,tiles:i,onClick:s,onDragEnd:a})}),d&&Object(p.jsx)("td",{className:"itemlist",children:Object(p.jsx)(K,{construction:r,onClick:s,onDragEnd:a})})]})})})})},$=function e(t,i){Object(A.a)(this,e),this.itemCombination=[],this.itemResult=void 0,this.itemCombination=t,this.itemResult=i},ee=[new $([E[0],E[0]],E[1]),new $([E[2],E[2]],E[3])],te=function(){var e=function(){for(var e=new Array(11),t=0;t<e.length;t++){e[t]=new Array(11);for(var i=0;i<e[t].length;i++)e[t][i]=new B(D[0],t,i)}e[5][5].type=D[1],e[4][4].type=D[2],e[5][4].type=D[2],e[6][4].type=D[2],e[4][5].type=D[2],e[6][5].type=D[2],e[4][6].type=D[2],e[5][6].type=D[2],e[6][6].type=D[2],e[5][5].characters.push(new Q(1,x,v,f.x,f.y,6));var r=[];r.push(new Q(1,x,v,f.x,f.y,6));var n=new F,s=[],c=_[0];return s.push(c),{characters:r,phase:n,tiles:e,constructions:s}}(),t=Object(c.useState)(e.characters),i=Object(u.a)(t,2),r=i[0],n=i[1],s=Object(c.useState)(e.phase),a=Object(u.a)(s,2),o=a[0],l=a[1],h=Object(c.useState)(e.tiles),b=Object(u.a)(h,2),j=b[0],C=b[1],A=Object(c.useState)(e.constructions),M=Object(u.a)(A,2),N=M[0],w=M[1],U=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),i=(t[0],t[1]);return function(){return i((function(e){return e+1}))}}(),R=function(){var e=r,t=o;o.untilNextTurn>1?t.untilNextTurn-=1:(t.turn+=1,t.untilNextTurn=O,e[0].ap<4&&(e[0].ap+=1)),t.untilAlertDismissed>0&&(t.untilAlertDismissed-=1),n(e),l(t),U()},S=function(e){var t=o;t.alertActive=e,t.untilAlertDismissed=g,l(t),U()},P=function(e,t){return Math.max(Math.abs(j[e][t].coords.x-r[0].coords.x),Math.abs(j[e][t].coords.y-r[0].coords.y))};return Object(c.useEffect)((function(){setInterval(R,1e3)}),[]),Object(p.jsxs)("div",{className:"ui",children:[Object(p.jsxs)("div",{className:"ui-row1",children:[Object(p.jsx)(m,{tiles:j,onClick:function(e,t){if(r[0].ap>0){if(1===P(e,t)){var i=r;i[0].ap-=1;var s=r[0].coords.x,c=r[0].coords.y;i[0].coords={x:e,y:t};var a=j;a[s][c].characters=[],a[e][t].characters.push(i[0]),n(i),C(a)}}else S(k.OUT_OF_AP);U()}}),Object(p.jsx)(Z,{characters:r,tiles:j,construction:N[0],onClickInventory:function(e){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=j;c[t][i].items.push(r[0].items[e]),s[0].items.splice(e,1),n(s),C(c),U()},onClickCell:function(e){if(r[0].items.length<=r[0].itemsMax-1){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=j;s[0].items.push(j[t][i].items[e]),c[t][i].items.splice(e,1),n(s),C(c),U()}},onDragEnd:function(e){if(e.destination){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=j,a=N;if(e.source.droppableId===e.destination.droppableId){if("items-inventory"===e.source.droppableId){var o=Array.from(r[0].items),l=o.splice(e.source.index,1),d=Object(u.a)(l,1)[0];o.splice(e.destination.index,0,d),s[0].items=o}if("items-cell"===e.source.droppableId){var h=Array.from(j[t][i].items),b=h.splice(e.source.index,1),p=Object(u.a)(b,1)[0];h.splice(e.destination.index,0,p),c[t][i].items=h}if("items-craft"===e.source.droppableId){var m=Array.from(N[0].items),O=m.splice(e.source.index,1),f=Object(u.a)(O,1)[0];m.splice(e.destination.index,0,f),a[0].items=m}}if(e.source.droppableId!==e.destination.droppableId){var x=Array(0),v=Array(0);if("items-inventory"===e.source.droppableId&&"items-cell"===e.destination.droppableId){x=Array.from(r[0].items),v=Array.from(j[t][i].items);var g=x.splice(e.source.index,1),y=Object(u.a)(g,1)[0];v.splice(e.destination.index,0,y),s[0].items=x,c[t][i].items=v}else if("items-cell"===e.source.droppableId&&"items-inventory"===e.destination.droppableId&&r[0].items.length<=r[0].itemsMax-1){x=Array.from(j[t][i].items),v=Array.from(r[0].items);var I=x.splice(e.source.index,1),A=Object(u.a)(I,1)[0];v.splice(e.destination.index,0,A),c[t][i].items=x,s[0].items=v}if("items-inventory"===e.source.droppableId&&"items-craft"===e.destination.droppableId){x=Array.from(r[0].items),v=Array.from(N[0].items);var M=x.splice(e.source.index,1),E=Object(u.a)(M,1)[0];v.splice(e.destination.index,0,E),s[0].items=x,a[0].items=v}else if("items-craft"===e.source.droppableId&&"items-inventory"===e.destination.droppableId&&r[0].items.length<=r[0].itemsMax-1){x=Array.from(N[0].items),v=Array.from(r[0].items);var T=x.splice(e.source.index,1),R=Object(u.a)(T,1)[0];v.splice(e.destination.index,0,R),a[0].items=x,s[0].items=v}if("items-cell"===e.source.droppableId&&"items-craft"===e.destination.droppableId){x=Array.from(j[t][i].items),v=Array.from(N[0].items);var S=x.splice(e.source.index,1),k=Object(u.a)(S,1)[0];v.splice(e.destination.index,0,k),c[t][i].items=x,a[0].items=v}else if("items-craft"===e.source.droppableId&&"items-cell"===e.destination.droppableId){x=Array.from(N[0].items),v=Array.from(j[t][i].items);var _=x.splice(e.source.index,1),P=Object(u.a)(_,1)[0];v.splice(e.destination.index,0,P),a[0].items=x,c[t][i].items=v}}n(s),C(c),w(a),U()}}})]}),Object(p.jsxs)("div",{className:"ui-row2",children:[Object(p.jsx)(y,{phase:o,characters:r}),Object(p.jsx)(I,{onClickSearch:function(){if(r[0].ap>0){var e=r,t=j;e[0].ap-=1;var i=Math.floor(Math.random()*E.length);if(r[0].items.length<=r[0].itemsMax-1)e[0].items.push(function(){var e=Y(H());return e[Math.floor(Math.random()*e.length)]}()),n(e);else{var s=r[0].coords.x,c=r[0].coords.y;t[s][c].items.push(E[i]),n(e),C(t)}}else S(k.OUT_OF_AP);U()},onClickCraft:function(){if(N[0].items.length<2)S(k.CRAFT_NO_ITEMS);else if(r[0].ap<=0)S(k.OUT_OF_AP);else{var e=Object(d.a)(r),t=Object(d.a)(N);e[0].ap-=1,n(e),U();var i=!1;ee.forEach((function(e){if(e.itemCombination.length===N[0].items.length){var r=!0,n=Object(d.a)(t[0].items);if(e.itemCombination.forEach((function(e){n.includes(e)?n.splice(n.indexOf(e),1):r=!1})),r)return t[0].items=[e.itemResult],w(t),i=!0,S(k.CRAFT_SUCCESS),void U()}})),i||S(k.CRAFT_NO_COMBINATION)}}})]}),Object(p.jsx)("div",{className:"ui-row3",children:Object(p.jsx)(T,{alertText:o.alertActive,isVisible:o.untilAlertDismissed>0})})]})},ie=(i(38),function(){return Object(p.jsx)(te,{})}),re=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,41)).then((function(t){var i=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;i(e),r(e),n(e),s(e),c(e)}))};l.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ie,{})}),document.getElementById("root")),re()}},[[39,1,2]]]);
//# sourceMappingURL=main.4169ba39.chunk.js.map