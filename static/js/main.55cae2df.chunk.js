(this["webpackJsonpescape-velocity"]=this["webpackJsonpescape-velocity"]||[]).push([[0],{21:function(e,t,i){},29:function(e,t,i){},36:function(e,t,i){"use strict";i.r(t);var r,n,s=i(0),c=i.n(s),a=i(7),o=i.n(a),l=(i(29),i(21),i(4)),d=i(15),u=i(16),h=u.a.button(r||(r=Object(d.a)(["\n  width: 9%;\n  height: 9%;\n\n  font-size: ",";\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  border: 1px solid white;\n  border-collapse: collapse;\n  border-radius: 5px;\n"])),(function(e){return e.characters.length,"8px"}),(function(e){return 0===e.characters.length?e.tiletype.color:"repeating-linear-gradient(45deg, white, white 10px, "+e.tiletype.color+" 10px,  "+e.tiletype.color+" 20px)"}),(function(e){return 0===e.characters.length?"black":"white"}),(function(e){return 0===e.characters.length?"normal":"bold"})),b=i(1),j=function(e){for(var t=e.tiles,i=e.onClick,r=[],n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++){var c=i.bind(undefined,s,n);r.push(Object(b.jsx)(h,{tiletype:t[s][n].type,characters:t[s][n].characters,onClick:c,children:0!==t[s][n].characters.length?"X":"("+s+","+n+")"},"Cell"+s+":"+n))}r.push(Object(b.jsx)("br",{},"LineBreak"+n))}return Object(b.jsx)("span",{className:"map",children:r})},p=3,m={x:5,y:5},O=100,f=4,x=5,v=function(e){var t=e.phase,i=e.characters;return Object(b.jsxs)("span",{className:"statusbar",children:[Object(b.jsx)("b",{children:"Status bar"}),Object(b.jsx)("br",{}),"Turn: ",t.turn," (00:00:0",t.untilNextTurn,")",Object(b.jsx)("br",{}),"Action Points: ",i[0].ap," / ",f,Object(b.jsx)("br",{}),"Health Points: ",i[0].hp," / ",O,Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})},y=function(e){var t=e.onClick;return Object(b.jsxs)("span",{className:"actionbar",children:[Object(b.jsx)("b",{children:"Actions"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"action",type:"button",value:"Search",onClick:t})]})},g=i(5),I=function e(t,i,r){Object(g.a)(this,e),this.id=void 0,this.name=void 0,this.rarity=void 0,this.id=t,this.name=i,this.rarity=r};!function(e){e.UBIQUITOUS="UBIQUITOUS",e.COMMON="COMMON",e.UNCOMMON="UNCOMMON",e.RARE="RARE",e.SCARCE="SCARCE",e.UNIQUE="UNIQUE"}(n||(n={}));var C,M=[new I(0,"Log",n.UBIQUITOUS),new I(1,"Plank",n.COMMON),new I(2,"Iron Ore",n.COMMON),new I(3,"Iron Sheet",n.UNCOMMON),new I(4,"Broken Circuit Board",n.RARE),new I(5,"Electronic Component",n.SCARCE),new I(6,"Transistor Radio",n.UNIQUE)],A=i(19),N=function(e){var t=e.alertText,i=e.isVisible;return Object(b.jsx)("span",{className:"alertbar",children:Object(b.jsxs)(A.a,{show:i,variant:t.variant,children:[Object(b.jsx)(A.a.Heading,{children:t.header}),t.body]},"mainAlert")})},E=function e(t,i,r){Object(g.a)(this,e),this.header=void 0,this.body=void 0,this.variant=void 0,this.header=t,this.body=i,this.variant=r};!function(e){e.WARNING="warning",e.PRIMARY="primary"}(C||(C={}));var U,w,T={START:new E("Your starship was heavily damaged during an orbital fight...","Pilots managed to perform an emergency landing on the planet below. The vessel is irreversibly damaged. Fellow crew is dead. Endless jungle covering the entire surface.",C.PRIMARY),OUT_OF_AP:new E("Out of Action Points","You are too tired to perform this action and need to chill for a  while. AP recover with time. Action Points recover gradually with time.",C.WARNING)},R=[new function e(t,i){Object(g.a)(this,e),this.id=void 0,this.name=void 0,this.items=void 0,this.id=t,this.name=i,this.items=[]}(0,"Engineering Bay")],k=function e(t,i,r){Object(g.a)(this,e),this.id=void 0,this.name=void 0,this.color=void 0,this.id=t,this.name=i,this.color=r},S=[new k(0,"Forest","#32a871"),new k(1,"Starship","#929da6"),new k(2,"Impact Cleaning","#76a693")],P=function e(t,i,r){Object(g.a)(this,e),this.type=void 0,this.coords=void 0,this.characters=void 0,this.items=void 0,this.type=t,this.coords={x:i,y:r},this.characters=[],this.items=[]},D=function e(){Object(g.a)(this,e),this.turn=void 0,this.untilNextTurn=void 0,this.isNight=void 0,this.alertActive=void 0,this.untilAlertDismissed=void 0,this.turn=1,this.untilNextTurn=p,this.isNight=!1,this.untilAlertDismissed=0,this.alertActive=T.START,this.untilAlertDismissed=1200},_=function e(t,i,r,n,s,c){Object(g.a)(this,e),this.id=void 0,this.hp=void 0,this.ap=void 0,this.coords=void 0,this.items=void 0,this.itemsMax=void 0,this.id=t,this.hp=i,this.ap=r,this.coords={x:n,y:s},this.itemsMax=c,this.items=[]},B=function(e){for(var t=[],i=0;i<M.length;i++)M[i].rarity===e&&t.push(M[i]);return t},Q=function(){var e=100*Math.random();return e<=35?n.UBIQUITOUS:e>35&&e<=65?n.COMMON:e>65&&e<=85?n.UNCOMMON:e>85&&e<=95?n.RARE:n.SCARCE},F=i(3);!function(e){e.ITEM_UBIQUITOUS="rgb(206, 188, 160)",e.ITEM_COMMON="rgb(148, 148, 184)",e.ITEM_UNCOMMON="rgb(151, 184, 250)",e.ITEM_RARE="rgb(255, 181, 54)",e.ITEM_SCARCE="rgb(242, 114, 114)",e.ITEM_UNIQUE="rgb(227, 0, 91)"}(U||(U={}));var H=u.a.input(w||(w=Object(d.a)(["\n  width: 80%;\n  height: 40px;\n  margin: 3px 3px 3px 3px;\n  background-color: ","\n    ","\n    ","\n    ","\n    ","\n    ",";\n  border: none;\n  border-radius: 5px;\n  color: white;\n  text-align: center;\n  font-size: 14px;\n"])),(function(e){return e.rarity===n.UBIQUITOUS&&U.ITEM_UBIQUITOUS}),(function(e){return e.rarity===n.COMMON&&U.ITEM_COMMON}),(function(e){return e.rarity===n.UNCOMMON&&U.ITEM_UNCOMMON}),(function(e){return e.rarity===n.RARE&&U.ITEM_RARE}),(function(e){return e.rarity===n.SCARCE&&U.ITEM_SCARCE}),(function(e){return e.rarity===n.UNIQUE&&U.ITEM_UNIQUE})),L=i(8),Y=function(e){var t=e.characters,i=e.onClick;return Object(b.jsx)(L.c,{droppableId:"items-inventory",isDropDisabled:t[0].items.length>=t[0].itemsMax,children:function(e){return Object(b.jsxs)("ul",Object(F.a)(Object(F.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t[0].items.map((function(e,t){return Object(b.jsx)(L.b,{draggableId:"item-inventory-"+t,index:t,children:function(r){return Object(b.jsx)("li",Object(F.a)(Object(F.a)(Object(F.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:Object(b.jsx)(H,{type:"submit",value:e.name,rarity:e.rarity,onClick:function(){return i(t)}})}))}},t)})),e.placeholder]}))}})},z=function(e){var t=e.characters,i=e.onClick,r=e.onDragEnd;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:["Inventory (",t[0].items.length,"/",t[0].itemsMax,")"]}),Object(b.jsx)("br",{}),Object(b.jsx)(Y,{characters:t,onClick:i,onDragEnd:r})]})},G=function(e){var t=e.characters,i=e.tiles,r=e.onClick,n=t[0].coords.x,s=t[0].coords.y;return Object(b.jsx)(L.c,{droppableId:"items-cell",children:function(e){return Object(b.jsxs)("ul",Object(F.a)(Object(F.a)({},e.droppableProps),{},{ref:e.innerRef,children:[i[n][s].items.map((function(e,t){return Object(b.jsx)(L.b,{draggableId:"item-cell-"+t,index:t,children:function(e){return Object(b.jsx)("li",Object(F.a)(Object(F.a)(Object(F.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(b.jsx)(H,{type:"submit",value:i[n][s].items[t].name,rarity:i[n][s].items[t].rarity,onClick:function(){return r(t)}})}))}},t)})),e.placeholder]}))}})},J=function(e){var t=e.characters,i=e.tiles,r=e.onClick,n=e.onDragEnd,s=t[0].coords.x,c=t[0].coords.y;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[i[s][c].type.name," (",s,", ",c,")"]}),Object(b.jsx)("br",{}),Object(b.jsx)(G,{characters:t,tiles:i,onClick:r,onDragEnd:n})]})},V=function(e){var t=e.construction,i=e.onClick;return Object(b.jsx)(L.c,{droppableId:"items-craft",children:function(e){return Object(b.jsxs)("ul",Object(F.a)(Object(F.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t.items.map((function(e,t){return Object(b.jsx)(L.b,{draggableId:"item-craft-"+t,index:t,children:function(r){return Object(b.jsx)("li",Object(F.a)(Object(F.a)(Object(F.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:Object(b.jsx)(H,{type:"submit",value:e.name,rarity:e.rarity,onClick:function(){return i(t)}})}))}},t)})),e.placeholder]}))}})},W=function(e){var t=e.construction,i=e.onClick,r=e.onDragEnd;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Engineering Bay"}),Object(b.jsx)("br",{}),Object(b.jsx)(V,{construction:t,onClick:i,onDragEnd:r})]})},X=function(e){var t=e.characters,i=e.tiles,r=e.construction,n=e.onClickInventory,c=e.onClickCell,a=e.onDragEnd,o=Object(s.useState)(!1),d=Object(l.a)(o,2),u=d[0],h=d[1];return Object(s.useEffect)((function(){var e=t[0].coords.x,i=t[0].coords.y;h(5===e&&5===i)}),[t[0].coords.x,t[0].coords.y]),Object(b.jsx)(L.a,{onDragEnd:a,children:Object(b.jsx)("table",{className:"itembar",children:Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{className:"itemlists",children:[Object(b.jsx)("td",{className:"itemlist",children:Object(b.jsx)(z,{characters:t,onClick:n,onDragEnd:a})}),Object(b.jsx)("td",{className:"itemlist",children:Object(b.jsx)(J,{characters:t,tiles:i,onClick:c,onDragEnd:a})}),u&&Object(b.jsx)("td",{className:"itemlist",children:Object(b.jsx)(W,{construction:r,onClick:c,onDragEnd:a})})]})})})})},q=function(){var e=function(){for(var e=new Array(11),t=0;t<e.length;t++){e[t]=new Array(11);for(var i=0;i<e[t].length;i++)e[t][i]=new P(S[0],t,i)}e[5][5].type=S[1],e[4][4].type=S[2],e[5][4].type=S[2],e[6][4].type=S[2],e[4][5].type=S[2],e[6][5].type=S[2],e[4][6].type=S[2],e[5][6].type=S[2],e[6][6].type=S[2],e[5][5].characters.push(new _(1,O,f,m.x,m.y,6));var r=[];r.push(new _(1,O,f,m.x,m.y,6));var n=new D,s=[],c=R[0];return s.push(c),{characters:r,phase:n,tiles:e,constructions:s}}(),t=Object(s.useState)(e.characters),i=Object(l.a)(t,2),r=i[0],n=i[1],c=Object(s.useState)(e.phase),a=Object(l.a)(c,2),o=a[0],d=a[1],u=Object(s.useState)(e.tiles),h=Object(l.a)(u,2),g=h[0],I=h[1],C=Object(s.useState)(e.constructions),A=Object(l.a)(C,2),E=A[0],U=A[1],w=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),i=(t[0],t[1]);return function(){return i((function(e){return e+1}))}}(),k=function(){var e=r,t=o;o.untilNextTurn>1?t.untilNextTurn-=1:(t.turn+=1,t.untilNextTurn=p,e[0].ap<4&&(e[0].ap+=1)),t.untilAlertDismissed>0&&(t.untilAlertDismissed-=1),n(e),d(t),w()},F=function(e){var t=o;t.alertActive=e,t.untilAlertDismissed=x,d(t),w()},H=function(e,t){return Math.max(Math.abs(g[e][t].coords.x-r[0].coords.x),Math.abs(g[e][t].coords.y-r[0].coords.y))};return Object(s.useEffect)((function(){setInterval(k,1e3)}),[]),Object(b.jsxs)("div",{className:"ui",children:[Object(b.jsxs)("div",{className:"ui-row1",children:[Object(b.jsx)(j,{tiles:g,onClick:function(e,t){if(r[0].ap>0){if(1===H(e,t)){var i=r;i[0].ap-=1;var s=r[0].coords.x,c=r[0].coords.y;i[0].coords={x:e,y:t};var a=g;a[s][c].characters=[],a[e][t].characters.push(i[0]),n(i),I(a)}}else F(T.OUT_OF_AP);w()}}),Object(b.jsx)(X,{characters:r,tiles:g,construction:E[0],onClickInventory:function(e){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=g;c[t][i].items.push(r[0].items[e]),s[0].items.splice(e,1),n(s),I(c),w()},onClickCell:function(e){if(r[0].items.length<=r[0].itemsMax-1){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=g;s[0].items.push(g[t][i].items[e]),c[t][i].items.splice(e,1),n(s),I(c),w()}},onDragEnd:function(e){if(e.destination){var t=r[0].coords.x,i=r[0].coords.y,s=r,c=g,a=E;if(e.source.droppableId===e.destination.droppableId){if("items-inventory"===e.source.droppableId){var o=Array.from(r[0].items),d=o.splice(e.source.index,1),u=Object(l.a)(d,1)[0];o.splice(e.destination.index,0,u),s[0].items=o}if("items-cell"===e.source.droppableId){var h=Array.from(g[t][i].items),b=h.splice(e.source.index,1),j=Object(l.a)(b,1)[0];h.splice(e.destination.index,0,j),c[t][i].items=h}if("items-craft"===e.source.droppableId){var p=Array.from(E[0].items),m=p.splice(e.source.index,1),O=Object(l.a)(m,1)[0];p.splice(e.destination.index,0,O),a[0].items=p}}if(e.source.droppableId!==e.destination.droppableId){var f=Array(0),x=Array(0);if("items-inventory"===e.source.droppableId&&"items-cell"===e.destination.droppableId){f=Array.from(r[0].items),x=Array.from(g[t][i].items);var v=f.splice(e.source.index,1),y=Object(l.a)(v,1)[0];x.splice(e.destination.index,0,y),s[0].items=f,c[t][i].items=x}else if("items-cell"===e.source.droppableId&&"items-inventory"===e.destination.droppableId&&r[0].items.length<=r[0].itemsMax-1){f=Array.from(g[t][i].items),x=Array.from(r[0].items);var C=f.splice(e.source.index,1),M=Object(l.a)(C,1)[0];x.splice(e.destination.index,0,M),c[t][i].items=f,s[0].items=x}if("items-inventory"===e.source.droppableId&&"items-craft"===e.destination.droppableId){f=Array.from(r[0].items),x=Array.from(E[0].items);var A=f.splice(e.source.index,1),N=Object(l.a)(A,1)[0];x.splice(e.destination.index,0,N),s[0].items=f,a[0].items=x}else if("items-craft"===e.source.droppableId&&"items-inventory"===e.destination.droppableId&&r[0].items.length<=r[0].itemsMax-1){f=Array.from(E[0].items),x=Array.from(r[0].items);var T=f.splice(e.source.index,1),R=Object(l.a)(T,1)[0];x.splice(e.destination.index,0,R),a[0].items=f,s[0].items=x}if("items-cell"===e.source.droppableId&&"items-craft"===e.destination.droppableId){f=Array.from(g[t][i].items),x=Array.from(E[0].items);var k=f.splice(e.source.index,1),S=Object(l.a)(k,1)[0];x.splice(e.destination.index,0,S),c[t][i].items=f,a[0].items=x}else if("items-craft"===e.source.droppableId&&"items-cell"===e.destination.droppableId){f=Array.from(E[0].items),x=Array.from(g[t][i].items);var P=f.splice(e.source.index,1),D=Object(l.a)(P,1)[0];x.splice(e.destination.index,0,D),a[0].items=f,c[t][i].items=x}}n(s),I(c),U(a),w()}}})]}),Object(b.jsxs)("div",{className:"ui-row2",children:[Object(b.jsx)(v,{phase:o,characters:r}),Object(b.jsx)(y,{onClick:function(){if(r[0].ap>0){var e=r,t=g;e[0].ap-=1;var i=Math.floor(Math.random()*M.length);if(r[0].items.length<=r[0].itemsMax-1)e[0].items.push(function(){var e=B(Q());return e[Math.floor(Math.random()*e.length)]}()),n(e);else{var s=r[0].coords.x,c=r[0].coords.y;t[s][c].items.push(M[i]),n(e),I(t)}}else F(T.OUT_OF_AP);w()}})]}),Object(b.jsx)("div",{className:"ui-row3",children:Object(b.jsx)(N,{alertText:o.alertActive,isVisible:o.untilAlertDismissed>0})})]})},K=(i(35),function(){return Object(b.jsx)(q,{})}),Z=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,38)).then((function(t){var i=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;i(e),r(e),n(e),s(e),c(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root")),Z()}},[[36,1,2]]]);
//# sourceMappingURL=main.55cae2df.chunk.js.map