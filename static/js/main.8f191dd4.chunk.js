(this["webpackJsonpescape-velocity"]=this["webpackJsonpescape-velocity"]||[]).push([[0],{21:function(t,e,n){},29:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var i,r,s,c=n(0),a=n.n(c),o=n(6),l=n.n(o),h=(n(29),n(21),n(12)),d=n(14),u=n(15),j=u.a.button(i||(i=Object(d.a)(["\n  width: 50px;\n  height: 50px;\n  font-size: ",";\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  border: 1px solid white;\n  border-collapse: collapse;\n  border-radius: 5px;\n"])),(function(t){return t.characters.length,"8px"}),(function(t){return 0===t.characters.length?t.tiletype.color:"repeating-linear-gradient(45deg, white, white 10px, "+t.tiletype.color+" 10px,  "+t.tiletype.color+" 20px)"}),(function(t){return 0===t.characters.length?"black":"white"}),(function(t){return 0===t.characters.length?"normal":"bold"})),b=n(1),x=function(t){for(var e=t.tiles,n=t.onClick,i=[],r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++){var c=n.bind(undefined,s,r);i.push(Object(b.jsx)(j,{tiletype:e[s][r].type,characters:e[s][r].characters,onClick:c,children:0!==e[s][r].characters.length?"X":"("+s+","+r+")"},"Cell"+s+":"+r))}i.push(Object(b.jsx)("br",{},"LineBreak"+r))}return Object(b.jsx)(b.Fragment,{children:i})},v=5,p={x:5,y:5},O=100,f=4,y=[0,60,90,100,100,100,100,100,100,100,100],m=5,g=function(t){var e=t.phase,n=t.characters;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Status bar"}),Object(b.jsx)("br",{}),"Turn: ",e.turn," (00:00:0",e.untilNextTurn,")",Object(b.jsx)("br",{}),"Action Points: ",n[0].ap," / ",f,Object(b.jsx)("br",{}),"Health Points: ",n[0].hp," / ",O,Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})},w=function(t){var e=t.onClick;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Actions"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"action",type:"button",value:"Search",onClick:e})]})},A=n(3),k=u.a.input(r||(r=Object(d.a)(["\n  width: 90%;\n  height: 40px;\n  margin: 3px 3px 3px 3px;\n  background-color: rgb(148, 148, 184);\n  border-radius: 5px;\n  border: 2px solid rgb(209, 209, 224);\n  color: white;\n"]))),C=n(16),N=function(t){var e=t.characters,n=t.onClick,i=t.onDragEnd;return Object(b.jsx)(C.a,{onDragEnd:i,children:Object(b.jsx)(C.c,{droppableId:"items-inventory",children:function(t){return Object(b.jsxs)("ul",Object(A.a)(Object(A.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e[0].inventory.slots.map((function(t,e){return Object(b.jsx)(C.b,{draggableId:"items-inventory-"+e,index:e,children:function(i){return Object(b.jsx)("li",Object(A.a)(Object(A.a)(Object(A.a)({ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{children:Object(b.jsx)(k,{type:"submit",value:t.name,onClick:function(){return n(e)}})}))}},e)})),t.placeholder]}))}})})},T=function(t){var e=t.characters,n=t.onClick,i=t.onDragEnd;return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Inventory"}),Object(b.jsx)("br",{}),Object(b.jsx)(N,{characters:e,onClick:n,onDragEnd:i})]})},P=function(t){for(var e=t.characters,n=t.tiles,i=t.onClick,r=e[0].coords.x,s=e[0].coords.y,c=new Array(n[r][s].items.length),a=0;a<n[r][s].items.length;a++){var o=i.bind(undefined,a);c[a]=Object(b.jsx)(k,{className:"item",type:"submit",value:n[r][s].items[a].name,onClick:o},"ItemTileInput"+a)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[n[r][s].type.name," (",r,", ",s,")"]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"item-panel",children:c})]})},I=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Craft"}),Object(b.jsx)("br",{})]})},S=n(4),D=function t(e,n,i){Object(S.a)(this,t),this.id=void 0,this.name=void 0,this.frequency=void 0,this.id=e,this.name=n,this.frequency=i},F=[new D(0," ",-1),new D(1,"Log",0),new D(2,"Plank",1),new D(3,"Iron Ore",2),new D(4,"Iron Bar",1),new D(5,"Iron Sheet",2),new D(6,"Broken Circuit Board",1),new D(7,"Electronic Component",2),new D(8,"Transistor Radio",999)],M=n(19),R=function(t){var e=t.alertText,n=t.isVisible;return Object(b.jsxs)(M.a,{show:n,variant:e.variant,children:[Object(b.jsx)(M.a.Heading,{children:e.header}),e.body]},"mainAlert")},E=function t(e,n,i){Object(S.a)(this,t),this.header=void 0,this.body=void 0,this.variant=void 0,this.header=e,this.body=n,this.variant=i};!function(t){t.WARNING="warning",t.PRIMARY="primary"}(s||(s={}));var B={START:new E("Your starship was heavily...","damaged during an orbital fight. Pilots managed to perform an emergency landing on the planet below. The vessel is irreversibly damaged. Fellow crew is dead. Endless jungle covering the entire surface...",s.PRIMARY),OUT_OF_AP:new E("Out of Action Points","You are too tired to perform this action and need to chill for a  while. AP recover with time. Action Points recover gradually with time.",s.WARNING)},_=function t(e,n,i){Object(S.a)(this,t),this.id=void 0,this.name=void 0,this.color=void 0,this.id=e,this.name=n,this.color=i},z=[new _(0,"Forest","#32a871"),new _(1,"Starship","#929da6"),new _(2,"Impact Cleaning","#76a693")],L=function t(e,n,i){Object(S.a)(this,t),this.type=void 0,this.coords=void 0,this.characters=void 0,this.items=void 0,this.type=e,this.coords={x:n,y:i},this.characters=[],this.items=[]},Y=function t(){Object(S.a)(this,t),this.turn=void 0,this.untilNextTurn=void 0,this.isNight=void 0,this.alertActive=void 0,this.untilAlertDismissed=void 0,this.turn=1,this.untilNextTurn=v,this.isNight=!1,this.untilAlertDismissed=0,this.alertActive=B.START,this.untilAlertDismissed=1200},q=function t(e){Object(S.a)(this,t),this.size=void 0,this.slots=void 0,this.size=e,this.slots=new Array(e);for(var n=0;n<this.slots.length;n++)this.slots[n]=F[0]},H=function t(e,n,i,r){Object(S.a)(this,t),this.hp=void 0,this.ap=void 0,this.coords=void 0,this.inventory=void 0,this.hp=e,this.ap=n,this.coords={x:i,y:r},this.inventory=new q(6)},U=function(t){for(var e=[],n=0;n<F.length;n++)F[n].frequency===t&&e.push(F[n]);return e},G=function(){var t=function(){for(var t=new Array(11),e=0;e<t.length;e++){t[e]=new Array(11);for(var n=0;n<t[e].length;n++)t[e][n]=new L(z[0],e,n)}t[5][5].type=z[1],t[4][4].type=z[2],t[5][4].type=z[2],t[6][4].type=z[2],t[4][5].type=z[2],t[6][5].type=z[2],t[4][6].type=z[2],t[5][6].type=z[2],t[6][6].type=z[2],t[5][5].characters.push(new H(O,f,p.x,p.y));var i=[];return i.push(new H(O,f,p.x,p.y)),{characters:i,phase:new Y,tiles:t}}(),e=Object(c.useState)(t.characters),n=Object(h.a)(e,2),i=n[0],r=n[1],s=Object(c.useState)(t.phase),a=Object(h.a)(s,2),o=a[0],l=a[1],d=Object(c.useState)(t.tiles),u=Object(h.a)(d,2),j=u[0],A=u[1],k=function(){var t=Object(c.useState)(0),e=Object(h.a)(t,2),n=(e[0],e[1]);return function(){return n((function(t){return t+1}))}}(),C=function(){var t=i,e=o;o.untilNextTurn>1?e.untilNextTurn-=1:(e.turn+=1,e.untilNextTurn=v,t[0].ap<4&&(t[0].ap+=1)),e.untilAlertDismissed>0&&(e.untilAlertDismissed-=1),r(t),l(e),k()},N=function(t){var e=o;e.alertActive=t,e.untilAlertDismissed=m,l(e),k()},S=function(t,e){return Math.max(Math.abs(j[t][e].coords.x-i[0].coords.x),Math.abs(j[t][e].coords.y-i[0].coords.y))};return Object(c.useEffect)((function(){setInterval(C,1e3)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"window",children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{rowSpan:3,children:Object(b.jsx)(x,{tiles:j,onClick:function(t,e){if(i[0].ap>0){if(1===S(t,e)){var n=i;n[0].ap-=1;var s=i[0].coords.x,c=i[0].coords.y;n[0].coords={x:t,y:e};var a=j;a[s][c].characters=[],a[t][e].characters.push(n[0]),r(n),A(a)}}else N(B.OUT_OF_AP);k()}})}),Object(b.jsx)("td",{colSpan:1,className:"window-aux",children:Object(b.jsx)(g,{phase:o,characters:i})}),Object(b.jsx)("td",{colSpan:2,className:"window-aux-alert",children:Object(b.jsx)(R,{alertText:o.alertActive,isVisible:o.untilAlertDismissed>0})})]}),Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:3,className:"window-aux",children:Object(b.jsx)(w,{onClick:function(){if(i[0].ap>0){var t=i;t[0].ap-=1;for(var e=-1,n=0;n<i[0].inventory.size;n++)if(i[0].inventory.slots[n]===F[0]){e=n;break}var s=Math.floor(Math.random()*F.length);if(-1!==e)t[0].inventory.slots[e]=function(){for(var t=100*Math.random(),e=0;e<y.length-1;e++)if(t>y[e]&&t<y[e+1]){var n=U(e);return n[Math.floor(Math.random()*n.length)]}return F[0]}(),r(t);else{var c=j,a=i[0].coords.x,o=i[0].coords.y;c[a][o].items.push(F[s]),r(t),A(c)}}else N(B.OUT_OF_AP);k()}})})}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(T,{characters:i,onClick:function(t){if(i[0].inventory.slots[t].id!==F[0].id){var e=i[0].coords.x,n=i[0].coords.y,s=i,c=j;c[e][n].items.push(i[0].inventory.slots[t]),s[0].inventory.slots[t]=F[0],r(s),A(c)}k()},onDragEnd:function(t){if(t.destination){var e=Array.from(i[0].inventory.slots),n=e.splice(t.source.index,1),s=Object(h.a)(n,1)[0];e.splice(t.destination.index,0,s);var c=i;c[0].inventory.slots=e,r(c),k()}}.bind(undefined)})}),Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(P,{tiles:j,characters:i,onClick:function(t){for(var e=-1,n=0;n<i[0].inventory.size;n++)if(i[0].inventory.slots[n]===F[0]){e=n;break}if(-1!==e){var s=i[0].coords.x,c=i[0].coords.y,a=i,o=j;a[0].inventory.slots[e]=j[s][c].items[t],o[s][c].items.splice(t,1),r(a),A(o)}k()}})}),Object(b.jsx)("td",{className:"window-aux",children:Object(b.jsx)(I,{})})]})]})})})})},J=(n(35),function(){return Object(b.jsx)(G,{})}),V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),i(t),r(t),s(t),c(t)}))};l.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root")),V()}},[[36,1,2]]]);
//# sourceMappingURL=main.8f191dd4.chunk.js.map